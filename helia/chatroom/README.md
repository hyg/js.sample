# 去中心化实时聊天室 DApp

这是一个基于 `libp2p` 和 `Helia` 的去中心化实时聊天室应用。用户可以直接在浏览器中加入聊天室，与其他用户进行实时通信，无需中心服务器。

## 功能特点

- **完全去中心化**: 消息通过 P2P 网络直接在用户之间传输。
- **NAT 穿透**: 利用 WebRTC 和中继节点，支持用户在不同 NAT 环境下通信。
- **实时消息**: 使用 `gossipsub` 协议实现低延迟的消息广播。
- **易于使用**: 打开网页即可加入聊天室，无需注册或额外配置。

## 技术栈

- **前端框架**: TypeScript + Vite
- **P2P 网络**: `libp2p`
- **传输层**: `@libp2p/webrtc`, `@libp2p/websockets`
- **消息协议**: `@libp2p/gossipsub`
- **包管理**: `pnpm`

## 快速开始

### 1. 安装依赖

```bash
pnpm install
```

### 2. 启动开发服务器

```bash
pnpm dev
```

默认情况下，应用将在 `http://localhost:3000` 上运行。

### 3. 构建项目

```bash
pnpm build
```

构建后的文件将位于 `dist` 目录中。

## 使用说明

1. 打开应用后，输入你想要加入或创建的聊天室名称。
2. 点击“加入”按钮，即可开始聊天。
3. 在输入框中输入消息，点击“发送”或按回车键即可发送消息。

## 项目结构

```
.
├── src/
│   ├── main.ts       # libp2p 节点初始化和消息处理逻辑
│   └── ...           # 其他前端资源 (待添加)
├── package.json      # 项目配置和依赖
├── tsconfig.json     # TypeScript 配置
└── vite.config.ts    # Vite 构建配置
```

## 注意事项

- 本项目目前为概念验证（PoC）版本，UI 部分尚未完善。
- 当前逻辑在 `src/main.ts` 中实现，后续将分离 UI 和核心逻辑。
- 为了实现 NAT 穿透，项目依赖于公共引导节点和中继节点。在生产环境中，建议部署私有的引导和中继节点以提高稳定性和性能。

## 许可证

MIT